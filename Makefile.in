# Makefile for GeoStats
# GeoStats CVS Identification
# $Id: Makefile.in,v 1.11 2002/03/08 14:18:08 fishwaldo Exp $
# makefile originally created by Andy Church.
 
CC=@CC@
CFLAGS=@CFLAGS@
LDFLAGS= -rdynamic @LIBS@


OBJS =	chans.o dotconf.o services.o main.o sock.o conf.o ircd.o timer.o users.o \
		ns_help.o dl.o list.o hash.o server.o @IRCD_FILES_OBJS@
SRCS =	chans.c dotconf.c services.c main.c sock.c conf.c ircd.c timer.c users.c \
		ns_help.c dl.c list.c hash.c server.c @IRCD_FILES_SRC@

.c.o:
	$(CC) $(CFLAGS) -c $<


all: 	stats
	(cd dl; $(MAKE) $@)

clean:
	/bin/rm -rf *.o stats *.cache Makefile config.status config.h
	(cd dl; $(MAKE) $@)


stats: $(OBJS)
	$(CC) $(LDFLAGS) $(OBJS)  -o $@

# Catch any changes in compilation options at the top of this file
$(OBJS): Makefile

dotconf.o:	dotconf.c	stats.h		config.h	dotconf.h
services.o:	services.c	stats.h		config.h	dl.h		Unreal.h  	Ultimate.h
main.o:		main.c		stats.h 	config.h	dl.h
sock.o:		sock.c		stats.h		config.h	dl.h
conf.o:		conf.c		stats.h		config.h	dotconf.h	dl.h
ircd.o:		ircd.c		stats.h		config.h	dl.h	 	Unreal.h 	Ultimate.h
timer.o:	timer.c		stats.h		config.h	dl.h
users.o:	users.c		stats.h		config.h
ns_help.o:	ns_help.c	stats.h		config.h
dl.o:		dl.c		stats.h		config.h	dl.h
list.o:		list.c		list.h
hash.o:		hash.c		hash.h
server.o:	server.c	stats.h		hash.h		hash.c	 	config.h
Ultimate.o:	Ultimate.c	stats.h		Ultimate.h
Unreal.o:	Unreal.c	stats.h		Unreal.h
chans.o:	hash.c		stats.h		UnrealModes.h