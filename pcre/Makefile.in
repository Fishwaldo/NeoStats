#PCRE Makefile
include ../Makefile.inc

INCLUDES = -I.. -I.

SRCS= get.c pcre.c study.c
OBJS= ${SRCS:.c=.o}
DOCS=README.pcre COPYING

all:	 ${OBJS}

.c.o:	
	 $(CC) $(CFLAGS) $(INCLUDES) -c $<

dftables.o: dftables.c maketables.c internal.h ../pcre.h config.h Makefile
	$(CC) $(CFLAGS) $(INCLUDES) -c dftables.c

dftables:       dftables.o
	$(CC) $(LDFLAGS) dftables.o -o dftables

chartables.c:   dftables
	./dftables >./chartables.c

clean:
	 $(RM) *.o Makefile dftables ../pcre.h chartables.c config.h

install: 

DISTFILES =*.c *.h *.in README COPYING

dist:
	@for file in $(DISTFILES); do \
		cp -pr $$file $(DISTDIR)/$$file; \
	done

$(OBJS): Makefile
pcre.o:	chartables.c ../pcre.h internal.h ../config.h
get.o: ../pcre.h internal.h ../config.h
study.o: ../pcre.h internal.h ../config.h
dftables.o: ../pcre.h internal.h ../config.h
